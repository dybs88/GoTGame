<h6 *ngIf="isAuthorized">Odświeżanie: {{refreshCounter}}</h6>
<div class="row mr-1 ml-1">
  <div class="col-3">
    <button *ngIf="!showChangeRules" class="btn btn-success btn-sm" (click)="toggleShowChangeRules()">Zmień zasady</button>
    <got-gameRules *ngIf="showChangeRules" (rulesConfirmed)="confirmRules()"></got-gameRules>
    <got-gameRulesV *ngIf="game!= undefined && !showChangeRules" [gameRules]="game.gameRules"></got-gameRulesV>
  </div>
  <div class="col-6">
      <div *ngIf="game !== undefined">
          <h4 class="text-center">{{game.name}}</h4>
          <table class="table table-hover table-striped table" style="table-layout: fixed">
          <tr>
            <th>{{getTranslation(localKeys.indexColName)}}</th>
            <th *ngIf="isAuthorized">{{getTranslation(localKeys.idColName)}}</th>
            <th *ngIf="isAuthorized">{{getTranslation(localKeys.isCreatorColName)}}</th>
            <th>{{getTranslation(localKeys.playerColName)}}</th>
            <th>{{getTranslation(localKeys.houseColName)}}</th>
            <th>{{getTranslation(localKeys.playerStatusColName)}}</th>
            <th>{{getTranslation(localKeys.actionColName)}}</th>
          </tr>
         <tr [class.text-white]="player.status === 'Ready'"
         [class.bg-success]="player.status === 'Ready'"
         [class.bg-warning]="player.status === 'Joined'"
         [class.bg-danger]="player.status === 'Joining'"
         *ngFor="let player of players; let i = index">
            <td>{{i + 1}}</td>
            <td *ngIf="isAuthorized">{{player.id}}</td>
            <td *ngIf="isAuthorized">{{getTranslation(player.isGameCreator)}}</td>
            <td>{{player.name}}</td>
            <td>{{getTranslation(player.house)}}</td>
            <td>{{getTranslation(player.status)}}</td>
            <td>
              <div *ngIf="currentPlayer.id === player.id" class="btn-group">
                <button class="btn btn-danger btn-sm" (click)="leaveGame()">{{getTranslation(localKeys.leaveGameBtn)}}</button>
                <button *ngIf="player.status !== 'Ready'" class="btn btn-primary btn-sm" (click)="changeStatus('Ready')">{{getTranslation(localKeys.readyBtn)}}</button>
                <button *ngIf="player.status === 'Ready'" class="btn btn-primary btn-sm" (click)="changeStatus('Joined')">{{getTranslation(localKeys.waitBtn)}}</button>
              </div>
            </td>
          </table>
          <got-chat></got-chat>
        </div>
  </div>
  <div class="col-3"></div>
</div>


